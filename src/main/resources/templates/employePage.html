<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Employe Management</title>
</head>
<body>

<h2>Employe List</h2>
<br>
<form th:action="@{/employePage}" method="get">
    <h3><label for="search">Search by name:</label></h3>
    <input type="text" id="search" class="form-control" name="search" />
    <br>
    <button type="submit" class="operator btn btn-info">Search</button>
</form>


<table border="1">
    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>LastName</th>
        <th>MiddleName</th>
        <th>DateOfEmployment</th>
        <th>username</th>
        <th>password</th>
        <th>phoneNumber</th>
        <th>Action</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="employe : ${employes}">
        <td th:text="${employe.id}"></td>
        <td th:text="${employe.name}"></td>
        <td th:text="${employe.lastName}"></td>
        <td th:text="${employe.middleName}"></td>
        <td th:text="${employe.dateOfEmployment}"></td>
        <td th:text="${employe.username}"></td>
        <td th:text="${employe.password}"></td>
        <td th:text="${employe.phoneNumber}"></td>


        <td>
            <a th:href="@{'/editEmploye/' + ${employe.id}}">Edit</a>
            <form method="post" th:action="@{'/deleteEmploye/' + ${employe.id}}">
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<h2>Add Employe</h2>
<br>
<form method="post" th:action="@{/addEmploye}">
    <label>Name: <input class="form-control" type="text" name="name" minlength="1" required></label>
    <label>LastName: <input class="form-control" type="text" name="lastName" minlength="1" required></label>
    <label>MiddleName: <input class="form-control" type="text" name="middleName" minlength="1" required></label>
    <label>DateOfEmployement: <input class="form-control" type="date" name="dateOfEmployment" required></label>
    <label>Username: <input class="form-control" type="text" name="username" minlength="1" required></label>
    <label>Password: <input class="form-control" type="text" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{8,}" required></label>
    <label>PhoneNumber: <input class="form-control" type="text" name="phoneNumber" pattern="\+\d{1,3}\(\d{1,3}\)\d{3}-\d{2}-\d{2}" required></label>
    <button type="submit">Add Employe</button>
</form>



</body>
</html>
